const WorkOrderCard = ({ order, onAssignClick }) => {
  const statusColors = {
    Pending: 'text-[#CDD0D7] bg-[#CDD0D7]',
    Assigned: 'text-[#0FC3EB] bg-[#0FC3EB]',
    'In Progress': 'text-[#EBB80F] bg-[#EBB80F]',
    Completed: 'text-[#54C020] bg-[#54C020]',
  }

  const priorityColors = {
    HIGH: 'bg-[#FFE4E4] text-[#FF3232]',
    MEDIUM: 'bg-[#FFF1C9] text-[#E29A00]',
    LOW: 'bg-[#EFEFEF] text-[#717171]',
  }

  return (
    <div className="bg-white border border-[#DEE1E6] rounded-2xl shadow-[0_4px_16px_3px_rgba(173,173,173,0.12)] overflow-hidden">
      <div className="p-6">
        {/* Header */}
        <div className="flex items-start gap-3 mb-4">
          <div className="w-9 h-9 rounded-xl bg-[#E1E3FF] flex items-center justify-center flex-shrink-0">
            <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M23.0469 10.5469H20.8008L16.6826 6.43165C16.5017 6.24966 16.2866 6.10537 16.0495 6.00714C15.8125 5.90891 15.5583 5.85869 15.3018 5.85938H4.71485C4.39329 5.85944 4.07672 5.93889 3.79324 6.09068C3.50977 6.24247 3.26815 6.4619 3.08985 6.7295L0.195315 11.0684C0.0674461 11.2611 -0.000511898 11.4874 2.90329e-06 11.7188V16.4063C2.90329e-06 16.9243 0.205778 17.421 0.57206 17.7873C0.938342 18.1536 1.43513 18.3594 1.95313 18.3594H3.27149C3.48013 19.0383 3.90098 19.6325 4.47224 20.0545C5.0435 20.4766 5.73505 20.7044 6.44532 20.7044C7.15558 20.7044 7.84713 20.4766 8.41839 20.0545C8.98965 19.6325 9.4105 19.0383 9.61914 18.3594H15.3809C15.5895 19.0383 16.0104 19.6325 16.5816 20.0545C17.1529 20.4766 17.8444 20.7044 18.5547 20.7044C19.265 20.7044 19.9565 20.4766 20.5278 20.0545C21.099 19.6325 21.5199 19.0383 21.7285 18.3594H23.0469C23.5649 18.3594 24.0617 18.1536 24.4279 17.7873C24.7942 17.421 25 16.9243 25 16.4063V12.5C25 11.982 24.7942 11.4852 24.4279 11.1189C24.0617 10.7527 23.5649 10.5469 23.0469 10.5469ZM4.92383 8.20313H15.1367L17.4805 10.5469H3.36133L4.92383 8.20313ZM6.44532 18.3594C6.25217 18.3594 6.06336 18.3021 5.90277 18.1948C5.74217 18.0875 5.617 17.935 5.54309 17.7565C5.46918 17.5781 5.44984 17.3817 5.48752 17.1923C5.5252 17.0029 5.61821 16.8289 5.75478 16.6923C5.89136 16.5557 6.06536 16.4627 6.2548 16.425C6.44423 16.3873 6.64059 16.4067 6.81903 16.4806C6.99747 16.5545 7.14999 16.6797 7.2573 16.8403C7.3646 17.0009 7.42188 17.1897 7.42188 17.3828C7.42188 17.6418 7.31899 17.8902 7.13585 18.0734C6.95271 18.2565 6.70432 18.3594 6.44532 18.3594ZM18.5547 18.3594C18.3615 18.3594 18.1727 18.3021 18.0121 18.1948C17.8515 18.0875 17.7264 17.935 17.6525 17.7565C17.5786 17.5781 17.5592 17.3817 17.5969 17.1923C17.6346 17.0029 17.7276 16.8289 17.8642 16.6923C18.0007 16.5557 18.1747 16.4627 18.3642 16.425C18.5536 16.3873 18.75 16.4067 18.9284 16.4806C19.1068 16.5545 19.2594 16.6797 19.3667 16.8403C19.474 17.0009 19.5313 17.1897 19.5313 17.3828C19.5313 17.6418 19.4284 17.8902 19.2452 18.0734C19.0621 18.2565 18.8137 18.3594 18.5547 18.3594ZM22.6563 16.0156H21.582C21.3194 15.4326 20.894 14.9378 20.357 14.5907C19.82 14.2437 19.1941 14.059 18.5547 14.059C17.9153 14.059 17.2894 14.2437 16.7524 14.5907C16.2154 14.9378 15.79 15.4326 15.5273 16.0156H9.47266C9.21004 15.4326 8.78465 14.9378 8.24762 14.5907C7.71058 14.2437 7.08475 14.059 6.44532 14.059C5.80588 14.059 5.18005 14.2437 4.64301 14.5907C4.10598 14.9378 3.6806 15.4326 3.41797 16.0156H2.34375V12.8906H22.6563V16.0156Z" fill="#626AE7"/>
            </svg>
          </div>
          <div className="flex-1 min-w-0">
            <div className="flex items-start justify-between gap-2 mb-1">
              <h3 className="text-base font-semibold text-black">{order.id}</h3>
              <div className="flex flex-col items-end gap-1">
                <div className="flex items-center gap-1.5">
                  <div className={`w-2.5 h-2.5 rounded-full ${statusColors[order.status]}`}></div>
                  <span className="text-xs text-black">{order.status}</span>
                </div>
                {order.priority && (
                  <span className={`px-2.5 py-0.5 rounded-full text-[10px] font-medium ${priorityColors[order.priority]}`}>
                    {order.priority}
                  </span>
                )}
              </div>
            </div>
            <div className="text-xs text-[#929594]">{order.vehicle}</div>
          </div>
        </div>

        {/* Details */}
        <div className="space-y-2 mb-4">
          <div className="flex items-center gap-2 text-xs text-[#65758B]">
            <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
              <path d="M11.375 1.53125H10.2812V1.3125C10.2812 1.13845 10.2121 0.971532 10.089 0.848461C9.96597 0.72539 9.79905 0.65625 9.625 0.65625C9.45095 0.65625 9.28403 0.72539 9.16096 0.848461C9.03789 0.971532 8.96875 1.13845 8.96875 1.3125V1.53125H5.03125V1.3125C5.03125 1.13845 4.96211 0.971532 4.83904 0.848461C4.71597 0.72539 4.54905 0.65625 4.375 0.65625C4.20095 0.65625 4.03403 0.72539 3.91096 0.848461C3.78789 0.971532 3.71875 1.13845 3.71875 1.3125V1.53125H2.625C2.33492 1.53125 2.05672 1.64648 1.8516 1.8516C1.64648 2.05672 1.53125 2.33492 1.53125 2.625V11.375C1.53125 11.6651 1.64648 11.9433 1.8516 12.1484C2.05672 12.3535 2.33492 12.4688 2.625 12.4688H11.375C11.6651 12.4688 11.9433 12.3535 12.1484 12.1484C12.3535 11.9433 12.4688 11.6651 12.4688 11.375V2.625C12.4688 2.33492 12.3535 2.05672 12.1484 1.8516C11.9433 1.64648 11.6651 1.53125 11.375 1.53125Z" fill="#65758B"/>
            </svg>
            <span>{order.vin}</span>
          </div>
          <div className="flex items-center gap-2 text-xs text-[#65758B]">
            <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
              <path d="M12.8178 11.4841C12.068 10.1681 10.8972 9.14276 9.49388 8.57305C10.1917 8.04965 10.7072 7.31995 10.9673 6.48731C11.2274 5.65466 11.2189 4.76128 10.9431 3.93373C10.6672 3.10617 10.138 2.38638 9.43033 1.87632C8.72267 1.36626 7.87246 1.0918 7.00013 1.0918C6.12781 1.0918 5.2776 1.36626 4.56993 1.87632C3.86226 2.38638 3.33302 3.10617 3.05717 3.93373C2.78131 4.76128 2.77284 5.65466 3.03293 6.48731C3.29303 7.31995 3.80852 8.04965 4.50638 8.57305C3.10306 9.14276 1.93226 10.1681 1.18247 11.4841C1.13602 11.5588 1.10505 11.6421 1.09142 11.729C1.07779 11.8159 1.08177 11.9046 1.10313 11.99C1.1245 12.0753 1.1628 12.1555 1.21576 12.2257C1.26873 12.296 1.33527 12.3549 1.41145 12.3989C1.48762 12.4429 1.57187 12.4711 1.65917 12.4819C1.74648 12.4927 1.83507 12.4859 1.91967 12.4617C2.00427 12.4376 2.08316 12.3967 2.15165 12.3415C2.22014 12.2863 2.27682 12.2179 2.31833 12.1403C3.30927 10.4275 5.05927 9.40594 7.00013 9.40594C8.94099 9.40594 10.691 10.428 11.6819 12.1403C11.7719 12.285 11.9146 12.389 12.0799 12.4304C12.2451 12.4717 12.42 12.4472 12.5675 12.362C12.715 12.2767 12.8236 12.1375 12.8703 11.9737C12.917 11.8098 12.8982 11.6343 12.8178 11.4841Z" fill="#65758B"/>
            </svg>
            <span>{order.customer}</span>
          </div>
          <div className="flex items-center gap-2 text-xs text-[#65758B]">
            <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
              <path d="M11.375 1.53125H10.2812V1.3125C10.2812 1.13845 10.2121 0.971532 10.089 0.848461C9.96597 0.72539 9.79905 0.65625 9.625 0.65625C9.45095 0.65625 9.28403 0.72539 9.16096 0.848461C9.03789 0.971532 8.96875 1.13845 8.96875 1.3125V1.53125H5.03125V1.3125C5.03125 1.13845 4.96211 0.971532 4.83904 0.848461C4.71597 0.72539 4.54905 0.65625 4.375 0.65625C4.20095 0.65625 4.03403 0.72539 3.91096 0.848461C3.78789 0.971532 3.71875 1.13845 3.71875 1.3125V1.53125H2.625C2.33492 1.53125 2.05672 1.64648 1.8516 1.8516C1.64648 2.05672 1.53125 2.33492 1.53125 2.625V11.375C1.53125 11.6651 1.64648 11.9433 1.8516 12.1484C2.05672 12.3535 2.33492 12.4688 2.625 12.4688H11.375C11.6651 12.4688 11.9433 12.3535 12.1484 12.1484C12.3535 11.9433 12.4688 11.6651 12.4688 11.375V2.625C12.4688 2.33492 12.3535 2.05672 12.1484 1.8516C11.9433 1.64648 11.6651 1.53125 11.375 1.53125Z" fill="#65758B"/>
            </svg>
            <span>{order.date}</span>
          </div>
        </div>

        {/* Issue Overview */}
        <div className="bg-[#F1F3F4] rounded-2xl p-4 mb-4">
          <div className="text-xs font-semibold text-black mb-2">Issue Overview:</div>
          <p className="text-[11px] text-[#929594] leading-relaxed">{order.issue}</p>
        </div>

        {/* Technician Info or Action Button */}
        {order.status === 'Pending' ? (
          <button 
            onClick={() => onAssignClick(order)}
            className="w-full bg-[#626AE7] text-white py-3 rounded-2xl text-sm font-semibold hover:bg-[#5159d6] transition-colors"
          >
            Assign Technician
          </button>
        ) : order.status === 'Assigned' ? (
          <div className="space-y-2">
            <div className="text-center">
              <span className="text-sm font-semibold">
                <span className="text-[#65758B]">Technician:</span>{' '}
                <span className="text-black">{order.technician}</span>
              </span>
            </div>
            <button 
              onClick={() => onAssignClick(order)}
              className="w-full bg-white border-2 border-[#626AE7] text-[#626AE7] py-2.5 rounded-2xl text-sm font-semibold hover:bg-[#F5F6FF] transition-colors"
            >
              Reassign Technician
            </button>
          </div>
        ) : (
          <div className="text-center">
            <span className="text-sm font-semibold">
              <span className="text-[#65758B]">Technician:</span>{' '}
              <span className="text-black">{order.technician}</span>
            </span>
          </div>
        )}
      </div>
    </div>
  )
}

export default WorkOrderCard